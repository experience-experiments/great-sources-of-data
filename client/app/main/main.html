<!--<div ng-include="'components/navbar/navbar.html'"></div>-->

<div ui-view></div>

<header class="text-center" style="margin: auto">
 <br><br><br><br><img src="assets/images/logo.png"><br>Yummy data sources ready to eat. Num,num,num!<br>
 	<br><!--<div class="form-group text-center" style="margin: auto;width: 250px">
				<label for="searchFilter" class="sr-only">Search</label>
				<input class="form-control" type="text" id="searchFilter" placeholder="Search" style="width: 250px">
			</div>-->
 <br>

</header>

<div class="container">
	
  <div class="row">
	<div class="text-center">
		<!--FIRST CATEGORY = ALL -->
		<span class="col-sd-1">
			<button class="btn-primary btn" ng-click="onClickCategory(null)"><h6>ALL</h6></button>
		</span>
		<span class="col-sd-1" ng-repeat="category in categories">
			<button class="btn-default btn" ng-click="onClickCategory(category)"><h6>{{category.name}}</h6></button>
		</span>
	</div>

	   
    <div class="col-lg-12 text-center" ng-repeat="category in categories | filter:categoryFilter">
      <h1 class="page-header text-center">{{category.name}}</h1>
      <ul class="nav col-md-4 col-lg-4 col-sm-6" ng-repeat="datasource in datasourceCollection | filter:category.objectId">
        <li>
        <div class="card-container">
                <div class="card" >
                    <div class="front">
                       <div>
							<div class="" style="width:260px;height:200px;margin: auto;text-align: center">
							    <!--{{datasource.name| uppercase}}<br>-->
							    <img class="centerVertically " ng-hide="datasource.image" ng-src="{{'http://images.shrinktheweb.com/xino.php?stwembed=1&stwaccesskeyid=337f6ffe597b6b6&stwsize=sm&stwurl='+datasource.linkURL}}" />
							    <img class="centerVertically " src="{{datasource.image.url}}" width="260px" height="auto" style="margin:auto;width:100%;height:auto;max-height:200px;max-width: 220px">
							   <!-- <span style="position:absolute;left:5px;bottom:3px;font-size: x-small;color: grey">{{(datasource.deliveryFormat) ? (datasource.deliveryFormat | join:","):"Unknown"}}</span>-->
							     <!--<span style="position:absolute;right:5px;bottom:3px"><span style=""><span style="background-color: aqua;  ">Quantity</span></span></span>-->
							 
							</div>
							<span style="position:absolute;bottom:5px;width: 100px;margin: auto;"><rating style="left:-50px;position: relative" ng-model="datasource.averageRating" max="5" readonly="true" ></rating></span>    
                       </div>
                    </div> <!-- end front panel -->
                    <div class="back">
                        <div style="margin: 10px;">
	                        <a ng-href="{{datasource.linkURL}}" target="_blank" tooltip="{{datasource.linkURL}}">{{datasource.linkURL | filterHTTP}}</a> | 
		                        <a target="_blank" ng-href="{{datasource.exampleURL}}">Example</a><br>
		                         <div class="format">{{(datasource.deliveryFormat) ? (datasource.deliveryFormat | join:","):"Unknown"}}<br></div><br>


	                        <p>{{datasource.description}}</p><br>
	                        <div class="listRatings">
		                        <ul>
			                        <li>
			                        
			                        QUANTITY<br><rating ng-model="datasource.ratingQuantity" max="5" readonly="true" on-hover="hoveringOver(value)" on-leave="overStar = null"></rating>
			                     </li> 
			                     <li>
			                        RECENT<br><rating ng-model="datasource.ratingRecency" max="5" readonly="true" ></rating>
			                     </li> 
			                     <li>
			                        EASE<br><rating ng-model="datasource.ratingSimplicity" max="5" readonly="true" ></rating>
			                      </li> 
			                     <li>
			                        TRUST<br><rating ng-model="datasource.ratingTrustworthy" max="5" readonly="true" ></rating>
			                      </li> 
			                     <li>
			                        QUALITY<br><rating ng-model="datasource.ratingConsistency" max="5" readonly="true" ></rating>
			                     </li>
		                        </ul>
		                      </div>
		                     
		                        
                        </div>
                    </div> <!-- end back panel -->
                </div> <!-- end card -->
            </div> <!-- end card-container -->


        </li>
               
        
      </ul>
      <ul class="nav col-md-4 col-lg-4 col-sm-6">
	       <li>
        	<div class="card-container">
	        	 <button class="front btn" ng-click="onClickAddBtn()" popover-animation="true" popover="Add a data source" popover-trigger="mouseenter" popover-placement="top" popover-popup-delay="250" popover-append-to-body="true">
                       <div>
							<div class="centerFlex" style="width:260px;height:200px;margin: auto;text-align: center">
							    <!--{{datasource.name| uppercase}}<br>-->
							    <img src="assets/images/plus.svg" width="80" height="80" style="margin:auto;"/>
							</div>
                       </div>
                    </button> <!-- end front panel -->
        	</div>
        </li>

	      
      </ul>
    </div>
  </div>
</div>

<footer class="footer">
  <div class="container">
     
		<h3><a href="mailto:mathieu.gosselin@rma-consulting.com">Tell us</a> how we can improve this tool</h3>
		 <p style="font-size: x-small">Open source project maintained by <a href="">RMA Consulting</a>
        Contribute on <a href="https://github.com/rma-consulting/great-sources-of-data">GITHUB</a></p>
  </div>
</footer>
